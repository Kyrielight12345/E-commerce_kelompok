<!DOCTYPE html>
<html xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="~{layout/main.html}">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>modal</title>
</head>

<body>
  <section class="container" th:fragment="modal">
    <!-- <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
      aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Product Created Successfully</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-primary" data-dismiss="modal" onclick="redirectToHome()">OK</button>
          </div>
        </div>
      </div>
    </div> -->

    <div id="modal-delete" class="modal fade">
      <div class="modal-dialog modal-confirm">
        <div class="modal-content">
          <div class="modal-header flex-column">
            <div class="icon-box">
              <i class="material-icons">close</i>
            </div>
            <h4 class="modal-title w-100">Are you sure?</h4>
          </div>
          <div class="modal-body">
            <p>Do you really want to delete these records? This process cannot be undone.</p>
          </div>
          <div class="modal-footer justify-content-center">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
            <button type="button" class="btn btn-danger" onclick="deleteProduct()">Delete</button>
          </div>
        </div>
      </div>
    </div>

    <div class="modal fade" id="cartZero" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <p>The number of products has not been added</p>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-primary" data-bs-dismiss="modal" aria-label="Close">OK</button>
          </div>
        </div>
      </div>
    </div>

    <div class="modal fade" id="modalInsertCart" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Product added to cart</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <p>The product has been successfully added to cart</p>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-primary" data-bs-dismiss="modal" aria-label="Close">OK</button>
          </div>
        </div>
      </div>
    </div>

    <div class="modal fade" id="myModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Add Product</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <p>The product has been successfully added</p>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-primary" data-bs-dismiss="modal" onclick="redirectToHome()"
              aria-label="Close">OK</button>
          </div>
        </div>
      </div>
    </div>

    <div class="modal fade" id="modalAlert" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Warning !!!</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <p>Insufficient Product Stock</p>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-primary" data-bs-dismiss="modal" aria-label="Close"
              onclick="location.reload()">OK</button>
          </div>
        </div>
      </div>
    </div>

    <div class="modal fade" id="errorSearch" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Warning !!!</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <p>Product Not Found</p>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-primary" data-bs-dismiss="modal" aria-label="Close">OK</button>
          </div>
        </div>
      </div>
    </div>
    <div class="modal fade" id="profileSuccess" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Success !!!</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <p>Your Profile Has Been Updated</p>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-primary" data-bs-dismiss="modal" aria-label="Close">OK</button>
          </div>
        </div>
      </div>
    </div>
    <div class="modal fade" id="logoutModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Logout</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <p>Are you sure you want to logout?</p>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-primary" data-bs-dismiss="modal" aria-label="Close">No</button>
            <form th:action="@{/logout}" th:method="POST">
              <button id="logoutButton" class="btn btn-primary" type="submit">Yes</button>
            </form>
          </div>
        </div>
      </div>
    </div>

    <div class="dropdown-menu" aria-labelledby="dropdownMenu2">
      <button class="dropdown-item" type="button">Action</button>
      <button class="dropdown-item" type="button">Another action</button>
      <button class="dropdown-item" type="button">Something else here</button>
    </div>

    <div class="modal fade" id="categoryModal" aria-labelledby="categoryModalLabel" aria-hidden="true"
      style="margin-top: 90px;">
      <div class="modal-dialog" style="z-index: 100;">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="categoryModalLabel">Select Category</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <ul class="list-group">
              <li class="list-group-item"><button class="btn" onclick="selectCategory('Category 1')">Category 1</button>
              </li>
              <li class="list-group-item"><button class="btn" onclick="selectCategory('Category 2')">Category 2</button>
              </li>
              <li class="list-group-item"><button class="btn" onclick="selectCategory('Category 3')">Category 3</button>
              </li>
            </ul>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            <!-- You can add additional buttons here if needed -->
          </div>
        </div>
      </div>
    </div>

    <!-- modal-detail-profile -->
    <div class="modal fade" id="detail-profil" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
      aria-labelledby="createLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h1 class="modal-title fs-5 fw-bold" id="createLabel">
              Profile
            </h1>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <div class="card me-4">
              <div class="card-body">
                <h5 class="card-title mb-4">Name : <span id="name"></span></h5>
                <p class="card-text mb-1">Address : <span id="address"></span></p>
                <p class="card-text mb-1">Email : <span id="email"></span></p>
                <p class="card-text mb-1">Phone : <span id="phone"></span></p>
              </div>
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-primary" data-bs-dismiss="modal" aria-label="Close">No</button>
            <form>
              <button href="#" data-bs-toggle="modal" data-bs-target="#detail-edit" class="btn btn-success profile-link"
                th:data-id="${name}">
                Edit
              </button>
            </form>
          </div>
        </div>
      </div>
    </div>

    <!-- modal-Edit-profile -->
    <div class="modal fade" id="detail-edit" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
      aria-labelledby="createLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h1 class="modal-title fs-5 fw-bold" id="createLabel">
              Edit Profile
            </h1>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <form>
            <div class="modal-body">
              <div class="card me-4">
                <div class="card-body">
                  <input type="hidden" id="id" />
                  <div class="input-group mb-4 mt-2">
                    <span class="input-group-text fw-bold bg-secondary-subtle" id="name">Name</span>
                    <input type="text" class="form-control" aria-label="Sizing example input" aria-describedby="name"
                      id="name1" required />
                  </div>
                  <div class="input-group mb-4 mt-2">
                    <span class="input-group-text fw-bold bg-secondary-subtle" id="name">Address</span>
                    <input type="text" class="form-control" aria-label="Sizing example input" aria-describedby="name"
                      id="address1" required />
                  </div>
                  <div class="input-group mb-4 mt-2">
                    <span class="input-group-text fw-bold bg-secondary-subtle" id="name">Email</span>
                    <input type="text" class="form-control" aria-label="Sizing example input" aria-describedby="name"
                      id="email1" required />
                  </div>
                  <div class="input-group mb-4 mt-2">
                    <span class="input-group-text fw-bold bg-secondary-subtle" id="name">No. HP</span>
                    <input type="text" class="form-control" aria-label="Sizing example input" aria-describedby="name"
                      id="phone1" required />
                  </div>
                </div>
              </div>
            </div>
            <div class="modal-footer">
              <!-- <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" data-bs-toggle="modal"
                data-bs-target="#detail-profil">
                Back
              </button> -->
              <button id="update-profile" type="submit" class="btn btn-success">
                Save
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <!-- Scrollable modal -->
    <div class="modal" id="paymentModal" >
      <div class="modal-dialog modal-dialog-scrollable">
        <div class="modal-content">

          <!-- Modal Header -->
          <div class="modal-header">
            <h1 class="modal-title">Detail Payment</h1>
          </div>

          <!-- Modal body -->
          <div class="modal-body">
            <div class="container">
              <div class="row">
                <div class="well col-xs-10 col-xs-offset-1 col-sm-offset-1 col-md-offset-3">
                  <div class="row">
                    <div class="col-xs-6 col-sm-6 col-md-6">
                    </div>
                    <div class="col-xs-6 col-sm-6 col-md-6 text-right">
                      <!-- <p>
                        <em>Date: 1st November, 2013</em>
                      </p> -->
                      <p>
                      </p>
                    </div>
                  </div>
                  <div class="row">
                    <div class="text-center">
                      <h1>Receipt</h1>
                    </div>
                    </span>
                    <table class="table table-hover">
                      <thead>
                        <tr>
                          <th>Product</th>
                          <th>#</th>
                          <th class="text-center">Price</th>
                          <th class="text-center">Total</th>
                        </tr>
                      </thead>
                      <tbody id="receiptTableBody">
                        <!-- Data akan muncul di sini -->
                      </tbody>
                      <tfoot>
                        <tr>
                          <td colspan="2"></td>
                          <td class="text-right">
                            <p><strong>Subtotal:</strong></p>
                            <p><strong>Tax (5%):</strong></p>
                          </td>
                          <td class="text-center">
                            <p><strong id="subtotal">$0.00</strong></p>
                            <p><strong id="tax">$0.00</strong></p>
                          </td>
                        </tr>
                        <tr>
                          <td colspan="2"></td>
                          <td class="text-right">
                            <h4><strong>Total:</strong></h4>
                          </td>
                          <td class="text-center text-danger">
                            <h4><strong id="total">$0.00</strong></h4>
                          </td>
                        </tr>
                      </tfoot>
                    </table>
                    <button type="button" class="btn btn-success btn-lg btn-block" onclick="checkout()">
                      Pay Now <span class="glyphicon glyphicon-chevron-right"></span>
                    </button></td>
                  </div>
                </div>
              </div>
            </div>

          </div>
        </div>
      </div>
    </div>


    <!-- <div class="modal fade" id="paymentModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Payment Successful</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <span id="paymentModal2"></span>
            <hr />
            <p>
              <span>Total</span>
              <span id="paymentModal3"></span>
            </p>
          </div>
        </div>
        <div class=" modal-footer">
          <button type="button" class="btn btn-primary" data-bs-dismiss="modal" aria-label="Close"
            onclick="location.reload()">
            Close
          </button>
        </div>
      </div>
    </div>
    </div>
  </section> -->


    <script>

      document.addEventListener("DOMContentLoaded", function () {
        var isLoggedIn = false;
        var modalContainer = document.getElementById('modalContainer');
        var modalContent = isLoggedIn ? createLogoutModal() : createLoginModal();
        modalContainer.innerHTML = modalContent;
      });

      // Function to create login modal
      function createLoginModal() {
        return `
        
        `;
      }

      function createLogoutModal() {
        return `
            <!-- Logout Modal -->
            <div class="modal fade" id="logoutModal" tabindex="-1" role="dialog" aria-labelledby="logoutModalLabel"
                aria-hidden="true">
                <!-- Your logout modal content here -->
                <div class="modal-dialog" role="document">
                    <!-- Your logout modal content -->
                </div>
            </div>
        `;
      }
    </script>
</body>

</html>